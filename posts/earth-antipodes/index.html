<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="ie=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="author" content="">
<meta name="keywords" content=", python, geography" />
<meta name="google-site-verification" content="sPwRw-1pCCEcm2EbqDJiJzJEnze1K7FkQzY9xLreBJQ" />
<meta name="robots" content="noodp" />
<meta name="theme-color" content="" />
<link rel="canonical" href="https://lukesalamone.github.io/posts/earth-antipodes/" />

<meta property="og:title" content=""/>
<meta property="og:image" content=""/>
<meta property="og:description" content=""/>

<script>
    if(location.hostname !== 'localhost') {
        
            fetch('https://d1tkdcmshl91xi.cloudfront.net?p=' + window.location.href.match(/\/([^/]+)\/$/)[1]);
        
    }
</script>

<script data-goatcounter="https://qw6ut244wbxe3rf2bvu5.goatcounter.com/count" async src="../../js/count.js"></script>


    <title>
        
            The Other End of the Earth :: Luke Salamone&#39;s Blog 
        
    </title>



<link href="https://cdnjs.cloudflare.com/ajax/libs/flag-icon-css/3.5.0/css/flag-icon.min.css" rel="stylesheet"
    type="text/css">



<link rel="stylesheet" href="../../main.e929a2b129440353e8b5e39dd12696947040fd7c9a9639e600bca78a3fadd11b.css">




    <link rel="apple-touch-icon" sizes="180x180" href="../../apple-touch-icon.png">
    <link rel="shortcut icon" href="../../favicon.ico">
    <meta name="msapplication-TileColor" content="#2d89ef">
    <meta name="theme-color" content="#ffffff">




  <meta itemprop="name" content="The Other End of the Earth">
  <meta itemprop="description" content="White areas show points of earth on land whose antipode is also on land. This is only about 8.6% of all of earth‚Äôs surface.
If you want to fly across the Pacific Ocean, you‚Äôll have to board an airplane and fly around 12 hours. It‚Äôs pretty slow. A much faster route would be to go directly through the center of the earth. ‚ÄúDigging to China‚Äù was a common expression I heard growing up, with the implication that the opposite side of the globe is somewhere in Asia.">
  <meta itemprop="datePublished" content="2022-11-23T10:07:36-08:00">
  <meta itemprop="dateModified" content="2022-11-23T10:07:36-08:00">
  <meta itemprop="wordCount" content="661">
  <meta itemprop="image" content="https://lukesalamone.github.io/">
  <meta itemprop="keywords" content="Python,Geography">

  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:image" content="https://lukesalamone.github.io/">
  <meta name="twitter:title" content="The Other End of the Earth">
  <meta name="twitter:description" content="White areas show points of earth on land whose antipode is also on land. This is only about 8.6% of all of earth‚Äôs surface.
If you want to fly across the Pacific Ocean, you‚Äôll have to board an airplane and fly around 12 hours. It‚Äôs pretty slow. A much faster route would be to go directly through the center of the earth. ‚ÄúDigging to China‚Äù was a common expression I heard growing up, with the implication that the opposite side of the globe is somewhere in Asia.">



    <meta property="og:url" content="https://lukesalamone.github.io/posts/earth-antipodes/">
  <meta property="og:site_name" content="Luke Salamone&#39;s Blog">
  <meta property="og:title" content="The Other End of the Earth">
  <meta property="og:description" content="White areas show points of earth on land whose antipode is also on land. This is only about 8.6% of all of earth‚Äôs surface.
If you want to fly across the Pacific Ocean, you‚Äôll have to board an airplane and fly around 12 hours. It‚Äôs pretty slow. A much faster route would be to go directly through the center of the earth. ‚ÄúDigging to China‚Äù was a common expression I heard growing up, with the implication that the opposite side of the globe is somewhere in Asia.">
  <meta property="og:locale" content="en">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2022-11-23T10:07:36-08:00">
    <meta property="article:modified_time" content="2022-11-23T10:07:36-08:00">
    <meta property="article:tag" content="Python">
    <meta property="article:tag" content="Geography">
    <meta property="og:image" content="https://lukesalamone.github.io/">






    <meta property="article:published_time" content="2022-11-23 10:07:36 -0800 PST" />








    </head>

    <body class="dark-theme">
        <div class="container">
            <header class="header">
    <span class="header__inner">
        <a href="../../" style="text-decoration: none;">
  <div class="logo">
    <div class="logo-holder-dark">
      <img src="../../img/logo.png" alt="Blog Home" />
    </div>
    <div class="logo-holder-light">
      <img src="../../img/logo2.png" alt="Blog Home" />
    </div>
  </div>
</a>


        <span class="header__right">
            
            <div id="header_search">
              <input type="text" placeholder="Search here" />
            </div>
        </span>
    </span>
</header>


            <div class="content">
                
  <main class="post">

    <div class="post-info">
      <p>
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-clock">
          <circle cx="12" cy="12" r="10"></circle>
          <polyline points="12 6 12 12 16 14"></polyline>
        </svg>
        4 minutes

        
      </p>
    </div>

    <article>
      <h1 class="post-title">
        <a href="https://lukesalamone.github.io/posts/earth-antipodes/">The Other End of the Earth</a>
      </h1>

      

      <div class="post-content">
        <figure><img src="../../img/antipode_land.png"
    alt="White areas show points of earth on land whose antipode is also on land. This is only about 8.6% of all of earth&amp;rsquo;s surface."><figcaption>
      <p>White areas show points of earth on land whose antipode is also on land. This is only about 8.6% of all of earth&rsquo;s surface.</p>
    </figcaption>
</figure>

<p>If you want to fly across the Pacific Ocean, you&rsquo;ll have to board an airplane and fly around 12 hours. It&rsquo;s pretty slow. A much faster route would be to go directly through the center of the earth. &ldquo;Digging to China&rdquo; was a common expression I heard growing up, with the implication that the opposite side of the globe is somewhere in Asia.</p>
<p>For the US, that&rsquo;s actually not true. The opposite end of the earth for most of the US is actually somewhere west of Australia. For North America, there are actually very few places whose antipode (the point on the exact opposite side of the globe) is on dry land. If you could dig a hole through the center of the earth from the US, you&rsquo;d pop out in the Pacific Ocean.</p>
<p>It is actually possible to &ldquo;dig to China&rdquo; though. Most of South America (excluding most of Brazil) has an antipode in east Asia. In fact, several of the world&rsquo;s biggest cities have antipodes on dry land. I&rsquo;ll get to this later.</p>
<h2 id="calculating-antipodes">Calculating Antipodes</h2>
<p>Given the latitude and longitude of a point on earth, it&rsquo;s pretty easy to calculate its antipode:</p>
<pre><code class="language-python">def antipode(lat, lon):
  lat = 0 - lat
  lon = 180 + lon if lon &lt; 0 else lon - 180
  return lat, lon
</code></pre>
<h2 id="dry-land">Dry land?</h2>
<p>Once I have the antipode of a particular latitude and longitude, I want to know if it&rsquo;s on dry land or not. The process of figuring out what&rsquo;s at a particular latitude/longitude point is called reverse geocoding, and there are a few nice tools for doing this for dry land. These tools will give fairly good information about the country a point is in.</p>
<p>But for now all I care about is whether a particular point is on land or water, not what country it&rsquo;s in. I wasn&rsquo;t able to find a great tool online that does this, so I opted for a more brute force method.</p>
<p>I used <a href="https://upload.wikimedia.org/wikipedia/commons/thumb/2/23/Blue_Marble_2002.png/2560px-Blue_Marble_2002.png">this picture from Wikipedia</a> which represents almost all water as the same color of blue. Based on that, I can create a boolean mask to indicate oceans and lakes, and reverse project pixels from that image to geographic coordinates. Simple enough.</p>
<h2 id="pixels-to-geocoordinates">Pixels to Geocoordinates</h2>
<p>Once you have the (x,y) coordinates they need to be converted to longitude and latitude. Latitude is how far north (or south) you are on the globe and ranges from -90 degrees at the North Pole to 90 degrees at the South Pole. On a flat map this is represented by a y coordinate.</p>
<p>Longitude represents how far east or west you are from the Prime Meridian (which runs through Greenwich, UK) and ranges from -180 to 180, both of which represent the same meridian.</p>
<p>How a latitude/longitude point is projected onto the globe depends on the map projection. In this case we&rsquo;re using <a href="https://en.wikipedia.org/wiki/Equirectangular_projection">Equirectangular projection</a>, so we just need to reverse that operation to get the x/y coordinates. The formula for doing so is:</p>
<pre><code class="language-python">#height is the height of the image
def lat2y(lat):
    return int((90 - lat) * (height / 180))

# width is the width of the image
def lon2x(lon):
    return int((lon + 180) * (width / 360))

# the reverse operations of the above
def y2lat(y):
    return 90 - 180 * y / height

def x2lon(x):
    return 360 * x / width - 180
</code></pre>
<h2 id="pixel-antipodes">Pixel Antipodes</h2>
<p>Now we can calculate the antipodes of a pixel.</p>
<pre><code class="language-python">def pixel_antipode(y, x):
    lat, lon = antipode(y2lat(y), x2lon(x))
    return lat2y(lat), lon2x(lon)
</code></pre>
<h2 id="antipodal-cities">Antipodal Cities</h2>
<p>If we look at <a href="https://en.wikipedia.org/wiki/List_of_largest_cities">a list of the world&rsquo;s largest cities</a>, which of them have antipodes on land? In the top 20, only four cities do.</p>
<table>
<thead>
<tr>
<th>city</th>
<th>population (millions)</th>
<th>lat, lon</th>
<th>antipode country</th>
</tr>
</thead>
<tbody>
<tr>
<td>Shanghaiüá®üá≥</td>
<td>25.5</td>
<td>31.2, 121.5</td>
<td>Argentinaüá¶üá∑</td>
</tr>
<tr>
<td>Beijingüá®üá≥</td>
<td>19.6</td>
<td>39.9, 116.4</td>
<td>Argentinaüá¶üá∑</td>
</tr>
<tr>
<td>Manilaüáµüá≠</td>
<td>13.5</td>
<td>14.6, 121.0</td>
<td>Brazilüáßüá∑</td>
</tr>
<tr>
<td>Tianjinüá®üá≥</td>
<td>13.2</td>
<td>39.1, 117.2</td>
<td>Argentinaüá¶üá∑</td>
</tr>
</tbody>
</table>

      </div>
    </article>

    <hr />

    <div class="post-info">
      
    <p>
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-tag meta-icon"><path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"></path><line x1="7" y1="7" x2="7" y2="7"></line></svg>

        <span class="tag"><a href="https://lukesalamone.github.io/tags/python/">python</a></span>
        <span class="tag"><a href="https://lukesalamone.github.io/tags/geography/">geography</a></span>
        
    </p>

      

      <p>
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file-text">
          <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path>
          <polyline points="14 2 14 8 20 8"></polyline>
          <line x1="16" y1="13" x2="8" y2="13"></line>
          <line x1="16" y1="17" x2="8" y2="17"></line>
          <polyline points="10 9 9 9 8 9"></polyline>
        </svg>
        661 Words
      </p>

      <p>
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-calendar">
          <rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect>
          <line x1="16" y1="2" x2="16" y2="6"></line>
          <line x1="8" y1="2" x2="8" y2="6"></line>
          <line x1="3" y1="10" x2="21" y2="10"></line>
        </svg>
        
          2022-11-23 10:07
        

        
          
        
      </p>
    </div>

    
      <div class="pagination">
        <div class="pagination__title">
          <span class="pagination__title-h">Read other posts</span>
          <hr />
        </div>

        <div class="pagination__buttons">
          
            <span class="button previous">
              <a href="https://lukesalamone.github.io/posts/best-antimaia-games/">
                <span class="button__icon">‚Üê</span>
                <span class="button__text">My Favorite Antimaia Games</span>
              </a>
            </span>
          

          
            <span class="button next">
              <a href="https://lukesalamone.github.io/posts/self-attention/">
                <span class="button__text">A Few Notes on the Transformer</span>
                <span class="button__icon">‚Üí</span>
              </a>
            </span>
          
        </div>
      </div>
    


    
  </main>
  <div id="shadow-search" class="posts">
    <div class="posts-group">
      <div class="post-year">2022</div>
      <ul class="posts-list"></ul>
    </div>
  </div>

            </div>

            
                <footer class="footer">
    <div class="footer__inner">
        <div class="footer__content">
            <span>&copy; 2024 Luke Salamone</span>&nbsp;|&nbsp;
            <span><a href="https://lukesalamone.com/" target="_blank">lukesalamone.com</a>&nbsp;|&nbsp;<a href="https://github.com/lukesalamone/" target="_blank">github</a></span>
        </div>
    </div>
</footer>

            
        </div>

        




<script type="text/javascript" src="../../bundle.min.e5fbf64306713fe8df1194a658201f5e861815365f67b3c6fc9094ed28d21c92aeaff20b7f4c12c25ba7efabe31291ffd1074e33cd60cf8ff8d8ffef7c028d73.js" integrity="sha512-5fv2QwZxP&#43;jfEZSmWCAfXoYYFTZfZ7PG/JCU7SjSHJKur/ILf0wSwlun76vjEpH/0QdOM81gz4/42P/vfAKNcw=="></script>



    </body>
</html>
